!function(){function e(){var e=document.querySelector(".content__form"),t=document.querySelector(".content__form__success"),n="";e&&(e.onsubmit=function(i){if(i.preventDefault(),e.reportValidity()){n=e.name.name+"="+e.name.value+"&"+e.email.name+"="+e.email.value+"&"+e.message.name+"="+e.message.value;var s=new XMLHttpRequest;s.onload=function(){e.reset(),e.submit.value="Submitted",e.submit.classList.add("content__form__submit_success"),t.classList.add("content__form__success_shown"),setTimeout(function(){e.submit.value="Submit",e.submit.classList.remove("content__form__submit_success"),t.classList.remove("content__form__success_shown")},4e3)},s.open("POST",e.action,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(n)}})}function t(){q.classList.remove("content_shown"),q.hidden=!0}function n(){this.parentElement.nextElementSibling.style.bottom="-15px"}function i(){this.parentElement.nextElementSibling.style.bottom=""}function s(){var e=document.querySelectorAll(".content__works__item__overlay__link");if(e[0])for(var t=0;t<e.length;t++)e[t].addEventListener("mouseover",n),e[t].addEventListener("mouseout",i)}function o(){setTimeout(function(){q.hidden=!1,setTimeout(function(){q.classList.add("content_shown")},100)},1e3)}function a(e){var t=e.pathname.lastIndexOf("/"),n="";""==(n=-1!=t?e.pathname.slice(t+1):e.pathname)&&(n="/"),history.pushState({title:document.title},"",n)}function c(){w.removeEventListener("mousemove",p),window.onload=_}function l(){y.classList.add("main__external-circle_hidden"),y.children[0].classList.add("main__internal-circle_hidden"),g=setTimeout(function(){y.style.display="none"},1e3),b.classList.add("main__assign_header"),E.classList.add("main__nav-icon_header")}function r(){clearTimeout(g),y.style.display="",w.addEventListener("mousemove",p),b.classList.remove("main__assign_header"),E.classList.remove("main__nav-icon_header"),document.title=Y}function d(){k=.3}function m(){for(var e=0;e<T.length;e++)T[e].classList.toggle("nav-list__item__link_transitioned"),T[e].style.transition="color .2s ease-in, opacity "+k+"s ease-in .7s, left "+k+"s ease-in .7s",k+=.3;e==T.length&&d()}function u(){S.classList.toggle("main__nav-list_hidden")}function _(){E.classList.remove("main__nav-icon_hidden")}function v(){E.classList.toggle("main__nav-icon_active"),u(),m(),h()}function f(){w.clientWidth<769&&document.title!==Y?b.classList.add("main__assign_top"):b.classList.remove("main__assign_top")}function h(){var e=document.body;w.clientWidth<769&&e.classList.toggle("prevent-overflow")}function L(e){y.classList.remove("main__external-circle_hidden"),y.children[0].classList.remove("main__internal-circle_hidden"),_()}function p(e){var t=w.clientWidth/2,n=w.clientHeight/2;if(e.clientX>t&&e.clientY<n)var i=e.clientX-t,s=n-e.clientY;else if(e.clientX>t&&e.clientY>n)var i=e.clientX-t,s=e.clientY-n;else if(e.clientX<t&&e.clientY>n)var i=t-e.clientX,s=e.clientY-n;else if(e.clientX<t&&e.clientY<n)var i=t-e.clientX,s=n-e.clientY;var o=Math.sqrt(Math.pow(s,2)+Math.pow(i,2));X=53*Math.sin(s/o)*2,X=Math.floor(X),e.clientX>t&&e.clientY<n?X=360-X:e.clientX<t&&e.clientY>n?X=180-X:e.clientX<t&&e.clientY<n&&(X=180+X),y.style.transform="rotate("+X+"deg)",setTimeout(function(){y.classList.remove("circle_transitioned")},300)}var g,y=document.querySelector(".main__external-circle"),w=(document.querySelector(".main__internal-circle"),document.querySelector(".main")),E=document.querySelector(".main__nav-icon"),S=document.querySelector(".main__nav-list"),T=document.querySelectorAll(".nav-list__item__link"),b=document.getElementById("svg-sign"),q=document.querySelector(".content"),X=0,k=.3,Y="Vysochanskiy Artem";document.title==Y?(w.addEventListener("mousemove",p),window.addEventListener("load",L)):(window.addEventListener("load",o),window.addEventListener("load",_),window.addEventListener("load",s),e()),E.addEventListener("click",v),S.addEventListener("mouseover",function(e){for(var t=e.target,n=0;n<T.length;n++)T[n]===t?T[n].classList.remove("nav-list__item__link_gray"):T[n].classList.add("nav-list__item__link_gray"),"A"!=t.tagName&&T[n].classList.remove("nav-list__item__link_gray")});for(var x=0;x<T.length;x++)T[x].addEventListener("click",function(n){n.preventDefault(),l(),v(),t();var i=new XMLHttpRequest,d=this,m=d.href;if("/"==d.pathname)return r(),a(d),setTimeout(L,10),void f();i.onload=function(){setTimeout(function(){q.innerHTML=i.responseText,s(),c(),e()},1e3),o(),document.title=d.title,a(d),f()},i.open("POST",m,!0),i.send()});window.onpopstate=function(){if("/"!=location.pathname)n="short_pages"+location.pathname;else var n=location.pathname;l(),t();var i=new XMLHttpRequest;if("/"==n)return r(),setTimeout(L,10),void f();i.onload=function(){setTimeout(function(){q.innerHTML=i.responseText,s(),c(),e()},1e3),o(),document.title=history.state.title,f()},i.open("POST",n,!0),i.send()};var M=new Vivus("svg-sign",{duration:100},function(){for(var e=b.children,t=0;t<e.length;t++)e[t].style.fill="black"});b.addEventListener("click",function(e){M.reset(),M.play()})}();